<form class="{{cssClass}}" autocomplete="off">

    {{!-- Sheet Header --}}
    <header class="sheet-header">
        <img class="profile-img" src="{{item.img}}" data-edit="img" title="{{item.name}}"/>
        <div class="header-fields">
            <h1 class="charname"><input name="name" type="text" value="{{item.name}}" placeholder="Name"/></h1>
            <div class="equipmentDetails" id="equipmentDetails">
                <div id="qty" class="equipmentStat">
                    <label class="resource-label">Qty:</label>
                    <input type="number" name="data.quantity" value="{{data.data.quantity}}" data-dtype="Number"/>
                </div>
                <div id="tl" class="equipmentStat">
                    <label class="resource-label">TL:</label>
                    <input type="number" name="data.tl" value="{{data.data.tl}}" data-dtype="Number"/>
                </div>
                <div id="lc" class="equipmentStat">
                    <label class="resource-label">LC:</label>
                    <input type="number" name="data.lc" value="{{data.data.lc}}" data-dtype="Number"/>
                </div>
                <div id="equipped" class="flexrow">
                    <select name="data.equipStatus" class="equipStatusSelect">
                        {{#select data.data.equipStatus}}
                        <option value="equipped">Equipped</option>
                        <option value="carried">Carried</option>
                        <option value="notCarried">Not Carried</option>
                        {{/select}}
                    </select>
                </div>
                <div id="subCategory" class="flexrow">
                    <label class="resource-label" style="flex: 0.5;">Race / Meta Trait / Etc:</label>
                    <input type="text" style="flex: 1;" name="data.subCategory" value="{{data.data.subCategory}}" placeholder="Leave this blank if you don't want it categorized"/>
                </div>
                <div id="value" class="equipmentStatLong">
                    <label class="resource-label">Value:</label>
                    <label class="resource-label">{{data.data.cost}}$</label>
                    <label class="resource-label"> / {{data.data.ttlCost}}$ total</label>
                </div>
                <div id="weight" class="equipmentStatLong">
                    <label class="resource-label">Weight:</label>
                    <label class="resource-label">{{data.data.weight}}lbs</label>
                    <label class="resource-label"> / {{data.data.ttlWeight}}lbs total</label>
                </div>
            </div>
        </div>
    </header>
    <div style="padding-top: 2px;">
        <label class="resource-label" style="width: 32px;">Short Notes:</label>
        <input type="text" name="data.shortNotes" value="{{data.data.shortNotes}}" style="width: calc(100% - 78px);"/>
    </div>

    {{!-- Sheet Tab Navigation --}}
    <nav id="tabselect" class="sheet-tabs tabs" data-group="primary">
        <div class="header">
            <a class="item" data-tab="notes">Notes</a>
        </div>
        <div class="header">
            <a class="item" data-tab="setup">Setup</a>
        </div>
        {{#unless (eq data.data.armour.bodyType.name "") }}
        <div class="header">
            <a class="item" data-tab="design">Design</a>
        </div>
        <div class="header">
            <a class="item" data-tab="armour">Display</a>
        </div>
        {{/unless}}
    </nav>

    {{!-- Sheet Body --}}
    <section class="sheet-body">

        {{!-- Note Tab --}}
        <div class="tab stats" data-tab="notes" data-group="primary">
            <h3 class="bold">Detailed Notes</h3>
            <div class="tab">
                <textarea rows="8" name="data.notes">{{{data.data.notes}}}</textarea>
            </div>
        </div>

        {{!-- Armour Setup Tab --}}
        <div class="tab stats" data-tab="setup" data-group="primary">
            <div class="tab">
                <div class="design-block">
                    <div style="width: 50%;">
                        <h2 class="bold" style="text-align: center;">User Options</h2>
                        <table>
                            <tr class="design-row">
                                <td>Body Type</td>
                                <td>
                                    <select name="data.armour.bodyType.name" class="bodyType">
                                        {{#select data.data.armour.bodyType.name}}
                                        <option value="">Make a Selection</option>
                                        <option value="humanoid">Humanoid</option>
                                        <option value="wingedHumanoid">Winged Humanoid</option>
                                        <option value="quadruped">Quadruped</option>
                                        <option value="wingedQuadruped">Winged Quadruped</option>
                                        <option value="hexapod">Hexapod</option>
                                        <option value="wingedHexapod">Winged Hexapod</option>
                                        <option value="centaur">Centaur</option>
                                        <option value="avian">Avian</option>
                                        <option value="vermiform">Vermiform</option>
                                        <option value="lamia">Lamia</option>
                                        <option value="wingedLamia">Winged Lamia</option>
                                        <option value="octopod">Octopod</option>
                                        <option value="cancroid">Cancroid</option>
                                        <option value="ichthyoid">Ichthyoid</option>
                                        <option value="arachnoid">Arachnoid</option>
                                        {{/select}}
                                    </select>
                                </td>
                                <td class="question-container" id="armour-body-type">
                                    <div class="question-button">
                                        <i class="fas fa-question"></i>
                                    </div>
                                </td>
                            </tr>

                            <tr class="design-row">
                                <td>Layer</td>
                                <td>
                                    <input type="number" style="width: unset;" name="data.armour.layer" value="{{data.data.armour.layer}}" data-dtype="Number" />
                                </td>
                                <td class="question-container" id="armour-layer">
                                    <div class="question-button">
                                        <i class="fas fa-question"></i>
                                    </div>
                                </td>
                            </tr>

                            {{#unless data.data.armourDesign.getSizeFromActor}}
                            <tr class="design-row">
                                {{#if (eq data.data.armourDesign.scalingMethodForCustomArmour "weight") }}
                                <td>Input Character Weight:</td><td><input type="number" style="width: unset;" name="data.armourDesign.inputWeight" value="{{data.data.armourDesign.inputWeight}}" data-dtype="Number" /></td>
                                {{else if (eq data.data.armourDesign.scalingMethodForCustomArmour "height")}}
                                <td>Input Character Height:</td><td><input type="number" style="width: unset;" name="data.armourDesign.inputHeight" value="{{data.data.armourDesign.inputHeight}}" data-dtype="Number" /></td>
                                {{else}}
                                <td>Input Character SM:</td><td><input type="number" style="width: unset;" name="data.armourDesign.inputSM" value="{{data.data.armourDesign.inputSM}}" data-dtype="Number" /></td>
                                {{/if}}
                                <td class="question-container" id="armour-input-scaling">
                                    <div class="question-button">
                                        <i class="fas fa-question"></i>
                                    </div>
                                </td>
                            </tr>
                            {{/unless}}
                        </table>

                        <h2 class="bold" style="text-align: center;">
                            Armour Customization
                        </h2>
                        <table>
                            <tr class="design-row">
                                <td>Tailoring</td>
                                <td>
                                    <select name="data.armourDesign.tailoring">
                                        {{#select data.data.armourDesign.tailoring}}
                                        <option value="cheap">Cheap</option>
                                        <option value="">Regularly Tailored</option>
                                        <option value="expert">Expertly Tailored</option>
                                        <option value="master">Masterfully Tailored</option>
                                        {{/select}}
                                    </select>
                                </td>
                                <td class="question-container" id="armour-tailor">
                                    <div class="question-button">
                                        <i class="fas fa-question"></i>
                                    </div>
                                </td>
                            </tr>

                            <tr class="design-row">
                                <td>Styling</td>
                                <td>
                                    <select name="data.armourDesign.style">
                                        {{#select data.data.armourDesign.style}}
                                        <option value="0">No Styling</option>
                                        <option value="1">+1 Styling</option>
                                        <option value="2">+2 Styling (Presentation Quality)</option>
                                        <option value="3">+3 Styling</option>
                                        {{/select}}
                                    </select>
                                </td>
                                <td class="question-container" id="armour-style">
                                    <div class="question-button">
                                        <i class="fas fa-question"></i>
                                    </div>
                                </td>
                            </tr>

                            {{#ifCond data.data.tl '>=' 6}}
                            <tr class="design-row">
                                <td>Sealed</td>
                                <td>
                                    <input type="checkbox" name="data.armourDesign.sealed" {{checked data.data.armourDesign.sealed}} data-dtype="Boolean"/>
                                </td>
                                <td class="question-container" id="armour-sealed">
                                    <div class="question-button">
                                        <i class="fas fa-question"></i>
                                    </div>
                                </td>
                            </tr>
                            {{/ifCond}}

                            {{#if data.data.armourDesign.hasSole}}
                            {{#ifCond data.data.tl '>=' 2}}
                            <tr class="design-row">
                                <td>Hobnails</td>
                                <td>
                                    <input type="checkbox" name="data.armourDesign.hobnails" {{checked data.data.armourDesign.hobnails}} data-dtype="Boolean"/>
                                </td>
                                <td class="question-container" id="armour-hobnailed">
                                    <div class="question-button">
                                        <i class="fas fa-question"></i>
                                    </div>
                                </td>
                            </tr>
                            {{/ifCond}}
                            {{/if}}

                            {{#if data.data.armourDesign.hasSteel}}
                            <tr class="design-row">
                                <td>Hardened Steel</td>
                                <td>
                                    <select name="data.armourDesign.steelHardening">
                                        {{#select data.data.armourDesign.steelHardening}}
                                        <option value="">None</option>
                                        <option value="hardened">Hardened Steel</option>
                                        {{#if data.data.armourDesign.hasPlate}}
                                        <option value="duplex">Duplex Plate</option>
                                        {{/if}}
                                        {{/select}}
                                    </select>
                                </td>
                                <td class="question-container" id="armour-steel-hardening">
                                    <div class="question-button">
                                        <i class="fas fa-question"></i>
                                    </div>
                                </td>
                            </tr>
                            {{/if}}

                            {{#if (or data.data.armourDesign.hasPlate data.data.armourDesign.hasScale) }}
                            <tr class="design-row">
                                <td>Fluting</td>
                                <td>
                                    <input type="checkbox" name="data.armourDesign.fluting" {{checked data.data.armourDesign.fluting}} data-dtype="Boolean"/>
                                </td>
                                <td class="question-container" id="armour-fluting">
                                    <div class="question-button">
                                        <i class="fas fa-question"></i>
                                    </div>
                                </td>
                            </tr>
                            {{/if}}

                            {{#if data.data.armourDesign.hasMail}}
                            <tr class="design-row">
                                <td>Banded Mail</td>
                                <td>
                                    <input type="checkbox" name="data.armourDesign.banded" {{checked data.data.armourDesign.banded}} data-dtype="Boolean"/>
                                </td>
                                <td class="question-container" id="armour-banded">
                                    <div class="question-button">
                                        <i class="fas fa-question"></i>
                                    </div>
                                </td>
                            </tr>

                            <tr class="design-row">
                                <td>Butted Mail</td>
                                <td>
                                    <input type="checkbox" name="data.armourDesign.butted" {{checked data.data.armourDesign.butted}} data-dtype="Boolean"/>
                                </td>
                                <td class="question-container" id="armour-butted">
                                    <div class="question-button">
                                        <i class="fas fa-question"></i>
                                    </div>
                                </td>
                            </tr>
                            {{/if}}

                            {{#if data.data.armourDesign.hasCloth}}
                            <tr class="design-row">
                                <td>Silk</td>
                                <td>
                                    <input type="checkbox" name="data.armourDesign.silk" {{checked data.data.armourDesign.silk}} data-dtype="Boolean"/>
                                </td>
                                <td class="question-container" id="armour-silk">
                                    <div class="question-button">
                                        <i class="fas fa-question"></i>
                                    </div>
                                </td>
                            </tr>

                            <tr class="design-row">
                                <td>Paper</td>
                                <td>
                                    <input type="checkbox" name="data.armourDesign.paper" {{checked data.data.armourDesign.paper}} data-dtype="Boolean"/>
                                </td>
                                <td class="question-container" id="armour-paper">
                                    <div class="question-button">
                                        <i class="fas fa-question"></i>
                                    </div>
                                </td>
                            </tr>
                            {{/if}}

                            {{#if  (or data.data.armourDesign.hasCloth data.data.armourDesign.hasLeather) }}
                            <tr class="design-row">
                                <td>Reinforced</td>
                                <td>
                                    <input type="checkbox" name="data.armourDesign.reinforced" {{checked data.data.armourDesign.reinforced}} data-dtype="Boolean"/>
                                </td>
                                <td class="question-container" id="armour-textile-reinforced">
                                    <div class="question-button">
                                        <i class="fas fa-question"></i>
                                    </div>
                                </td>
                            </tr>
                            {{/if}}

                            {{#if data.data.armourDesign.hasScale}}
                            <tr class="design-row">
                                <td>Mountain Scale</td>
                                <td>
                                    <input type="checkbox" name="data.armourDesign.mountain" {{checked data.data.armourDesign.mountain}} data-dtype="Boolean"/>
                                </td>
                                <td class="question-container" id="armour-mountain">
                                    <div class="question-button">
                                        <i class="fas fa-question"></i>
                                    </div>
                                </td>
                            </tr>
                            {{/if}}

                            {{#if data.data.armourDesign.hasLeather}}
                            <tr class="design-row">
                                <td>Leather Quality</td>
                                <td>
                                    <select name="data.armourDesign.leatherQuality">
                                        {{#select data.data.armourDesign.leatherQuality}}
                                        <option value="rawhide">Rawhide</option>
                                        <option value="">Standard</option>
                                        <option value="quality">Leather of Quality</option>
                                        {{/select}}
                                    </select>
                                </td>
                                <td class="question-container" id="armour-leather-quality">
                                    <div class="question-button">
                                        <i class="fas fa-question"></i>
                                    </div>
                                </td>
                            </tr>
                            {{/if}}
                        </table>

                        {{#if (or data.data.armourDesign.hasPunch data.data.armourDesign.hasKick) }}
                        <h2 class="bold" style="text-align: center;">Attack Options</h2>
                        <table>
                            {{#if data.data.armourDesign.hasPunch}}
                            <tr class="design-row">
                                <td>Include punch attack profile</td>
                                <td>
                                    <input type="checkbox" name="data.armourDesign.punch" {{checked data.data.armourDesign.punch}} data-dtype="Boolean"/>
                                </td>
                                <td class="question-container" id="armour-punch">
                                    <div class="question-button">
                                        <i class="fas fa-question"></i>
                                    </div>
                                </td>
                            </tr>
                            <tr class="design-row">
                                <td>Punch Skill</td>
                                <td>
                                    <input style="width: 75%" type="text" placeholder="Skill" name="data.armourDesign.punchSkill" value="{{data.data.armourDesign.punchSkill}}"/>
                                    <input style="width: 20%" type="number" placeholder="Mod" name="data.armourDesign.punchSkillMod" value="{{data.data.armourDesign.punchSkillMod}}"/>
                                </td>
                                <td class="question-container" id="armour-punch-skill">
                                    <div class="question-button">
                                        <i class="fas fa-question"></i>
                                    </div>
                                </td>
                            </tr>
                            {{/if}}
                            {{#if data.data.armourDesign.hasKick}}
                            <tr class="design-row">
                                <td>Include kick attack profile</td>
                                <td>
                                    <input type="checkbox" name="data.armourDesign.kick" {{checked data.data.armourDesign.kick}} data-dtype="Boolean"/>
                                </td>
                                <td class="question-container" id="armour-kick">
                                    <div class="question-button">
                                        <i class="fas fa-question"></i>
                                    </div>
                                </td>
                            </tr>
                            <tr class="design-row">
                                <td>Kick Skill</td>
                                <td>
                                    <input style="width: 75%" type="text" placeholder="Skill" name="data.armourDesign.kickSkill" value="{{data.data.armourDesign.kickSkill}}"/>
                                    <input style="width: 20%" type="number" placeholder="Mod" name="data.armourDesign.kickSkillMod" value="{{data.data.armourDesign.kickSkillMod}}"/>
                                </td>
                                <td class="question-container" id="armour-kick-skill">
                                    <div class="question-button">
                                        <i class="fas fa-question"></i>
                                    </div>
                                </td>
                            </tr>
                            {{/if}}
                        </table>
                        {{/if}}

                        <h2 class="bold" style="text-align: center;">
                            Armour Concealment
                        </h2>
                        <table>
                            <tr class="design-row">
                                <td>Concealed Armour</td>
                                <td>
                                    <input type="checkbox" name="data.armourDesign.concealed" {{checked data.data.armourDesign.concealed}} data-dtype="Boolean"/>
                                </td>
                                <td class="question-container" id="armour-concealed">
                                    <div class="question-button">
                                        <i class="fas fa-question"></i>
                                    </div>
                                </td>
                            </tr>
                            {{#if data.data.armourDesign.concealed}}
                            <tr class="design-row">
                                <td>Holdout Penalty Reduction</td>
                                <td>
                                    <input type="number" style="width: unset;" name="data.armourDesign.holdoutReduction" value="{{data.data.armourDesign.holdoutReduction}}" data-dtype="Number" />
                                </td>
                                <td class="question-container" id="armour-holdout-reduction">
                                    <div class="question-button">
                                        <i class="fas fa-question"></i>
                                    </div>
                                </td>
                            </tr>

                            <tr class="design-row">
                                <td>Clothing</td>
                                <td>
                                    <select name="data.armourDesign.concealedClothing">
                                        {{#select data.data.armourDesign.concealedClothing}}
                                        <option value="">None</option>
                                        <option value="swimwear">Swimwear (-5)</option>
                                        <option value="summer">Summer Clothing (-3)</option>
                                        <option value="standard">Normal Clothing (+0)</option>
                                        <option value="winter">Winter Clothing (+3)</option>
                                        <option value="longCoat">Long Coat (+4)</option>
                                        <option value="leatherLongCoat">Leather Long Coat (+4)</option>
                                        <option value="lightQualityLeatherLongCoat">Light Quality Leather Long Coat (+4)</option>
                                        <option value="qualityLeatherLongCoat">Quality Leather Long Coat (+4)</option>
                                        <option value="habit">Nun's Habit (+5)</option>
                                        {{/select}}
                                    </select>
                                </td>
                                <td class="question-container" id="armour-clothing">
                                    <div class="question-button">
                                        <i class="fas fa-question"></i>
                                    </div>
                                </td>
                            </tr>

                            <tr class="design-row">
                                <td>Clothing Status {{data.data.armourDesign.clothingStatus}}</td>
                                <td>
                                    <input type="range" min="-2" max="8" step="1" name="data.armourDesign.clothingStatus" value="{{data.data.armourDesign.clothingStatus}}" data-dtype="Number">
                                </td>
                                <td class="question-container" id="armour-clothing-status">
                                    <div class="question-button">
                                        <i class="fas fa-question"></i>
                                    </div>
                                </td>
                            </tr>

                            <tr class="design-row">
                                <td>Undercover Clothing</td>
                                <td>
                                    <select name="data.armourDesign.undercoverClothing">
                                        {{#select data.data.armourDesign.undercoverClothing}}
                                        <option value="0">No Bonus</option>
                                        <option value="1">+1 Bonus (+4 CF)</option>
                                        <option value="2">+2 Bonus (+19 CF)</option>
                                        {{/select}}
                                    </select>
                                </td>
                                <td class="question-container" id="armour-undercover-clothing">
                                    <div class="question-button">
                                        <i class="fas fa-question"></i>
                                    </div>
                                </td>
                            </tr>
                            {{/if}}
                        </table>
                    </div>
                    <div style="width: 50%;">
                        <h2 class="bold" style="text-align: center;">What The Fuck Is This Shit?</h2>
                        <div class="equipment-info-container">{{{data.data.info}}}</div>
                    </div>
                </div>
            </div>
        </div>

        {{!-- Armour Design Tab --}}
        <div class="tab stats" data-tab="design" data-group="primary">
            <div class="tab">
                {{#unless (eq data.data.armour.bodyType.name "") }}
                <div>
                    <div>
                        <h2 class="bold" style="text-align: center;">What The Fuck Is This Shit?</h2>
                        <div class="equipment-info-container">{{{data.data.info}}}</div>
                    </div>
                    <table>
                        <tr class="hit-locations">
                            <th class="question-container" id="armour-location" style="width: 100px;">
                                Location
                                <span class="small-question-button">
                                    <i class="fas fa-question"></i>
                                </span>
                            </th>
                            <th class="question-container" id="armour-sub-location" style="width: 100px;">
                                Sublocation
                                <span class="small-question-button">
                                    <i class="fas fa-question"></i>
                                </span>
                            </th>
                            <th class="question-container" id="armour-coverage" style="width: 80px;">
                                Coverage
                                <span class="small-question-button">
                                    <i class="fas fa-question"></i>
                                </span>
                            </th>
                            <th class="question-container" id="armour-voider" style="width: 50px;">
                                Voider?
                                <span class="small-question-button">
                                    <i class="fas fa-question"></i>
                                </span>
                            </th>
                            <th class="question-container" id="armour-material" style="width: 190px;">
                                Armour Material
                                <span class="small-question-button">
                                    <i class="fas fa-question"></i>
                                </span>
                            </th>
                            {{#if this.data.data.armourDesign.allowMagicalMaterialsForCustom}}
                            <th class="question-container" id="armour-material-essential" style="width: 60px;">
                                Essential
                                <span class="small-question-button">
                                    <i class="fas fa-question"></i>
                                </span>
                            </th>
                            {{/if}}
                            <th class="question-container" id="armour-construction" style="width: 135px;">
                                Construction
                                <span class="small-question-button">
                                    <i class="fas fa-question"></i>
                                </span>
                            </th>
                            <th class="question-container" id="armour-selectedDR" style="width: 85px;">
                                Selected DR
                                <span class="small-question-button">
                                    <i class="fas fa-question"></i>
                                </span>
                            </th>
                            <th class="question-container" id="armour-cost">
                                $
                                <span class="small-question-button">
                                    <i class="fas fa-question"></i>
                                </span>
                            </th>
                            <th class="question-container" id="armour-weight">
                                lbs
                                <span class="small-question-button">
                                    <i class="fas fa-question"></i>
                                </span>
                            </th>
                        </tr>
                        {{#each data.data.armour.bodyType.body as |bodyPart partId|}}<!--Loop through the body parts-->
                        {{#if bodyPart.subLocation}}<!--Check to see if there are sublocations and display them-->
                        {{#each bodyPart.subLocation as |subLocation locationId|}}<!--Loop through the sublocations-->
                        {{#if subLocation.surfaceArea}}
                        {{#showVoider bodyPart subLocation}}
                        <tr class="hit-locations" style="{{{hitLocationStyle bodyPart.label}}}">
                            <td>
                                {{bodyPart.label}}
                            </td>
                            <td>
                                {{subLocation.label}}
                            </td>
                            <td>
                                {{round subLocation.surfaceArea 100}}
                            </td>
                            <td>
                                {{boolToYN subLocation.voider}}
                            </td>
                            <td>
                                <select name="data.armour.bodyType.body.{{partId}}.subLocation.{{locationId}}.material.name">
                                {{#select subLocation.material.name}}
                                {{#each ../../data.data.armourDesign.materials as |material id|}}
                                {{#ifCond ../../../data.data.tl '>=' material.tl}}
                                <option value="{{material.name}}">{{material.name}}</option>
                                {{/ifCond}}
                                {{/each}}
                                {{/select}}
                                </select>
                            </td>
                            {{#if ../../this.data.data.armourDesign.allowMagicalMaterialsForCustom}}
                            <td>
                                <input type="checkbox" name="data.armour.bodyType.body.{{partId}}.subLocation.{{locationId}}.material.essential" {{checked subLocation.material.essential}} data-dtype="Boolean" style="width: 100%;"/>
                            </td>
                            {{/if}}
                            <td>
                                <select name="data.armour.bodyType.body.{{partId}}.subLocation.{{locationId}}.construction.name">
                                    {{#select subLocation.construction.name}}
                                    {{#each ../../data.data.armourDesign.constructionTypes as |construction id|}}
                                    {{#armourConstructionLimit ../../../data.data.tl construction subLocation bodyPart}}
                                    <option value="{{construction.name}}">{{construction.name}}</option>
                                    {{/armourConstructionLimit}}
                                    {{/each}}
                                    {{/select}}
                                </select>
                            </td>
                            <td style="{{{valueInRangeStyle subLocation.construction.minDR subLocation.selectedDR subLocation.material.maxDR}}}" class="custom-armour-selected-dr">
                                {{subLocation.construction.minDR}} / <input type="number" name="data.armour.bodyType.body.{{partId}}.subLocation.{{locationId}}.selectedDR" value="{{subLocation.selectedDR}}" data-dtype="Number" style="width: 30px;"/> / {{subLocation.material.maxDR}}
                            </td>
                            <td>
                                {{round subLocation.cost 100}}
                            </td>
                            <td>
                                {{round subLocation.weight 100}}
                            </td>
                        </tr>
                        {{/showVoider}}
                        {{/if}}
                        {{/each}}
                        {{else}}<!--Display details for parts without sublocations (Pretty much only the skull and brian)-->
                        <tr class="hit-locations" style="{{{hitLocationStyle bodyPart.label}}}">
                            <td colspan="2">{{bodyPart.label}}</td>
                            <td>
                                {{round bodyPart.surfaceArea 100}}
                            </td>
                            <td></td>
                            <td>
                                <select name="data.armour.bodyType.body.{{partId}}.material.name">
                                    {{#select bodyPart.material.name}}
                                    {{#each ../data.data.armourDesign.materials as |material id|}}
                                    {{#ifCond ../../data.data.tl '>=' material.tl}}
                                    <option value="{{material.name}}">{{material.name}}</option>
                                    {{/ifCond}}
                                    {{/each}}
                                    {{/select}}
                                </select>
                            </td>
                            {{#if ../this.data.data.armourDesign.allowMagicalMaterialsForCustom}}
                            <td>
                                <input type="checkbox" name="data.armour.bodyType.body.{{partId}}.material.essential" {{checked bodyPart.material.essential}} data-dtype="Boolean" style="width: 100%;"/>
                            </td>
                            {{/if}}
                            <td>
                                <select name="data.armour.bodyType.body.{{partId}}.construction.name">
                                    {{#select bodyPart.construction.name}}
                                    {{#each ../data.data.armourDesign.constructionTypes as |construction id|}}
                                    {{#armourConstructionLimit ../../data.data.tl construction bodyPart bodyPart}}
                                    <option value="{{construction.name}}">{{construction.name}}</option>
                                    {{/armourConstructionLimit}}
                                    {{/each}}
                                    {{/select}}
                                </select>
                            </td>
                            <td style="{{{valueInRangeStyle bodyPart.construction.minDR bodyPart.selectedDR bodyPart.material.maxDR}}}" class="custom-armour-selected-dr">
                                {{bodyPart.construction.minDR}} / <input type="number" name="data.armour.bodyType.body.{{partId}}.selectedDR" value="{{bodyPart.selectedDR}}" data-dtype="Number" style="width: 30px;"/> / {{bodyPart.material.maxDR}}
                            </td>
                            <td>
                                {{bodyPart.cost}}
                            </td>
                            <td>
                                {{bodyPart.weight}}
                            </td>
                        </tr>
                        {{/if}}
                        {{/each}}
                    </table>
                </div>
                {{/unless}}
            </div>
        </div>

        {{!-- Armour Display Tab --}}
        <div class="tab stats" data-tab="armour" data-group="primary">
            <div class="tab">
                <table class="dr-entry-table">
                    {{#unless (eq data.data.armour.bodyType.name "") }}
                        <tr class="hit-locations">
                            <td class="dr-header"></td>
                            <td class="dr-header" style="width: 30px;">Flex</td>
                            <td class="dr-damage-types" style="width: 60px;">Hardness</td>
                            <td class="dr-damage-types" style="width: 60px;">Burn</td>
                            <td class="dr-damage-types" style="width: 60px;">Cor</td>
                            <td class="dr-damage-types" style="width: 60px;">Cr</td>
                            <td class="dr-damage-types" style="width: 60px;">Cut</td>
                            <td class="dr-damage-types" style="width: 60px;">Fat</td>
                            <td class="dr-damage-types" style="width: 60px;">Imp</td>
                            <td class="dr-damage-types" style="width: 60px;">Pi</td>
                            <td class="dr-damage-types" style="width: 60px;">Tox</td>
                        </tr>
                    {{/unless}}
                    {{#each data.data.armour.bodyType.body as |bodyPart partId|}}<!--Loop through the body parts-->
                    <tr class="hit-locations master-location">
                        <th colspan="11">
                            <div>{{bodyPart.label}}</div>
                        </th>
                    </tr>
                    {{#if bodyPart.subLocation}}<!--Check to see if there are sublocations and display them-->
                    {{#each bodyPart.subLocation as |subLocation locationId|}}<!--Loop through the sublocations-->
                    <tr class="hit-locations">
                        <td class="dr-row">
                            <div>{{subLocation.label}}</div>
                        </td>
                        <td class="dr-row">
                            {{boolToYN subLocation.flexible}}
                        </td>
                        <td class="dr-row">
                            {{subLocation.drHardening}}
                        </td>
                        <td class="dr-row">
                            {{subLocation.drBurn}}
                        </td>
                        <td class="dr-row">
                            {{subLocation.drCor}}
                        </td>
                        <td class="dr-row">
                            {{subLocation.drCr}}
                        </td>
                        <td class="dr-row">
                            {{subLocation.drCut}}
                        </td>
                        <td class="dr-row">
                            {{subLocation.drFat}}
                        </td>
                        <td class="dr-row">
                            {{subLocation.drImp}}
                        </td>
                        <td class="dr-row">
                            {{subLocation.drPi}}
                        </td>
                        <td class="dr-row">
                            {{subLocation.drTox}}
                        </td>
                    </tr>
                    {{/each}}
                    {{else}}<!--Display details for parts without sublocations (Pretty much only the skull and brian)-->
                    <tr class="hit-locations">
                        <td class="dr-row">{{bodyPart.label}}</td>
                        <td class="dr-row">
                            {{boolToYN bodyPart.flexible}}
                        </td>
                        <td class="dr-row">
                            {{bodyPart.drHardening}}
                        </td>
                        <td class="dr-row">
                            {{bodyPart.drBurn}}
                        </td>
                        <td class="dr-row">
                            {{bodyPart.drCor}}
                        </td>
                        <td class="dr-row">
                            {{bodyPart.drCr}}
                        </td>
                        <td class="dr-row">
                            {{bodyPart.drCut}}
                        </td>
                        <td class="dr-row">
                            {{bodyPart.drFat}}
                        </td>
                        <td class="dr-row">
                            {{bodyPart.drImp}}
                        </td>
                        <td class="dr-row">
                            {{bodyPart.drPi}}
                        </td>
                        <td class="dr-row">
                            {{bodyPart.drTox}}
                        </td>
                    </tr>
                    {{/if}}
                    {{/each}}
                </table>
            </div>
        </div>
    </section>
</form>
